<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô - Pongston Korat</title>
    <style>
        :root {
            --primary-color: #2e7d32;
            --danger-color: #d32f2f;
            --border-color: #bbb;
        }
        body { font-family: 'Sarabun', sans-serif; padding: 20px; background-color: #f8f9fa; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        
        header { text-align: center; margin-bottom: 20px; }
        h2 { color: var(--primary-color); margin: 0; }

        /* ‡∏™‡πà‡∏ß‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• - ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏î‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î */
        .input-section {
            display: flex;
            align-items: flex-end;
            margin-bottom: 20px;
            padding: 15px;
            background: #f1f8e9;
            border-radius: 8px;
        }
        
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-size: 12px; font-weight: bold; margin-bottom: 4px; color: #555; }

        .input-section input {
            padding: 10px;
            border: 1px solid var(--border-color);
            font-size: 14px;
            height: 40px;
            box-sizing: border-box;
            outline: none;
        }

        /* ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏î‡∏Å‡∏±‡∏ô */
        .cust-input { width: 110px; border-radius: 5px 0 0 5px; }
        .site-input { width: 100px; border-left: none; border-radius: 0; }
        .agency-input { flex-grow: 1; border-left: none; border-radius: 0; }
        
        .btn-add {
            background-color: var(--primary-color);
            color: white;
            border: 1px solid var(--primary-color);
            padding: 0 20px;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
            font-weight: bold;
            height: 40px;
            transition: 0.2s;
        }
        .btn-add:hover { background-color: #1b5e20; }

        /* ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ */
        #searchBar { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #ddd; 
            border-radius: 8px; 
            box-sizing: border-box; 
            font-size: 16px; 
            margin-bottom: 15px; 
        }

        /* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */
        .table-container { overflow-x: auto; border-radius: 8px; border: 1px solid #eee; }
        table { width: 100%; border-collapse: collapse; min-width: 700px; }
        th { background-color: var(--primary-color); color: white; padding: 12px; text-align: left; }
        td { padding: 10px 12px; border-bottom: 1px solid #eee; font-size: 14px; }
        tr:hover { background-color: #f9f9f9; }
        
        .btn-delete { 
            color: var(--danger-color); 
            border: 1px solid var(--danger-color); 
            background: white;
            padding: 3px 8px; 
            border-radius: 4px; 
            cursor: pointer;
        }
        .btn-delete:hover { background: var(--danger-color); color: white; }
        .no-result { display: none; text-align: center; padding: 30px; color: #999; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h2>üìã ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô</h2>
        <p style="font-size: 12px; color: #666; margin: 5px 0 0 0;">By Pongston Korat</p>
    </header>

    <div class="input-section">
        <div class="form-group">
            <label>Customer Code</label>
            <input type="text" id="custCode" class="cust-input" placeholder="21643">
        </div>
        <div class="form-group">
            <label>Site Code</label>
            <input type="text" id="siteCode" class="site-input" placeholder="‡∏ô103">
        </div>
        <div class="form-group" style="flex-grow: 1;">
            <label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô (Agency)</label>
            <input type="text" id="agencyName" class="agency-input" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£">
        </div>
        <button class="btn-add" onclick="addData()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    </div>

    <input type="text" id="searchBar" onkeyup="filterData()" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á...">

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Customer</th>
                    <th>Site</th>
                    <th>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô (Agency)</th>
                    <th style="width: 60px; text-align: center;">‡∏•‡∏ö</th>
                </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>
    <div id="noResult" class="no-result">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</div>
</div>

<script>
    const initialData = [
        { cust: "21643", site: "‡∏ô103", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£" },
        { cust: "21643", site: "D897", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏ä.‡∏°‡∏ô‡∏ï‡∏£‡∏µ Prive" },
        { cust: "21643", site: "-", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏õ‡∏£‡∏∏‡πÉ‡∏´‡∏ç‡πà" },
        { cust: "13183", site: "D041", agency: "‡πÇ‡∏ü‡∏£‡πå‡∏ã‡∏±‡∏°‡∏°‡∏¥‡∏ó ‡∏ä.‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ Neo Home" },
        { cust: "21643", site: "‡∏ô101", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏Ñ‡∏•‡∏≠‡∏á‡∏î‡∏≤‡∏î ‡∏Å‡∏°.4" },
        { cust: "21643", site: "‡∏ô102", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏Ñ‡∏•‡∏≠‡∏á‡∏Ñ‡∏≤‡∏î ‡∏Å‡∏°.5" },
        { cust: "21643", site: "‡∏ô100", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏Ñ‡∏•‡∏≠‡∏á‡∏î‡∏≤‡∏î ‡∏Å‡∏°.3" },
        { cust: "21643", site: "‡∏ô098", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏Ñ‡∏•‡∏≠‡∏á‡∏î‡∏≤‡∏î ‡∏Å‡∏°.7" },
        { cust: "21643", site: "‡∏ô055", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡∏à‡∏≠‡∏´‡∏≠‡∏ó‡∏≠‡∏á‡∏û‡∏π‡∏ô" },
        { cust: "21643", site: "‡∏ô068", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå TB68" },
        { cust: "22253", site: "D009", agency: "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏≠‡∏á‡∏ò‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå Spec ‡∏à‡∏µ‡∏ô" },
        { cust: "22253", site: "D013", agency: "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏≠‡∏á‡∏ò‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå SpecThai" },
        { cust: "21643", site: "D896", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏ä‡∏ô.‡∏≠‡∏≤‡∏ì‡∏≤‡∏™‡∏£‡∏≤" },
        { cust: "21643", site: "D020", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏ä.‡∏ó‡∏≠‡∏á‡∏û‡∏π‡∏•‡∏•‡∏¥‡∏•‡∏î‡∏≤" },
        { cust: "21643", site: "‡∏ô096", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡∏≠‡∏π‡πà‡∏≠‡∏≤‡∏Ñ‡∏°" },
        { cust: "21643", site: "‡∏ô103", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡∏õ‡∏£‡∏∞‡∏Ñ‡∏•‡∏≠‡∏á 116432" },
        { cust: "21643", site: "‡∏ô028", agency: "‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå the best 4" }
    ];

    let dataList = JSON.parse(localStorage.getItem('agencyData_vFinal')) || initialData;

    function renderTable() {
        const tbody = document.getElementById("tableBody");
        tbody.innerHTML = "";
        dataList.forEach((item, index) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${item.cust}</td>
                <td>${item.site}</td>
                <td>${item.agency}</td>
                <td style="text-align: center;"><button class="btn-delete" onclick="deleteData(${index})">‡∏•‡∏ö</button></td>
            `;
            tbody.appendChild(tr);
        });
        localStorage.setItem('agencyData_vFinal', JSON.stringify(dataList));
        filterData();
    }

    function addData() {
        const cust = document.getElementById("custCode");
        const site = document.getElementById("siteCode");
        const agency = document.getElementById("agencyName");

        if (!cust.value || !agency.value) {
            alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
            return;
        }

        dataList.unshift({ cust: cust.value.trim(), site: site.value.trim() || "-", agency: agency.value.trim() });
        cust.value = ""; site.value = ""; agency.value = "";
        renderTable();
    }

    function deleteData(index) {
        if (confirm("‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ñ‡∏ß‡∏ô‡∏µ‡πâ?")) {
            dataList.splice(index, 1);
            renderTable();
        }
    }

    function filterData() {
        const filter = document.getElementById("searchBar").value.toLowerCase();
        const rows = document.getElementById("tableBody").getElementsByTagName("tr");
        let hasData = false;
        for (let row of rows) {
            row.style.display = row.innerText.toLowerCase().includes(filter) ? "" : "none";
            if (row.style.display === "") hasData = true;
        }
        document.getElementById("noResult").style.display = hasData ? "none" : "block";
    }

    renderTable();
</script>

</body>
</html>
